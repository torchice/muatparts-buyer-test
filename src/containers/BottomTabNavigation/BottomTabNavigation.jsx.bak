import React from "react";
import style from "./BottomTabNavigation.module.scss";
import IconComponent from "@/components/IconComponent/IconComponent";
import CustomLink from "@/components/CustomLink";
import ImageComponent from "@/components/ImageComponent/ImageComponent";
import { usePathname } from "next/navigation";
import ProtectComponent from "@/common/ProtectComponent";
import { useCustomRouter } from "@/libs/CustomRoute";
import { authZustand } from "@/store/auth/authZustand";
import { useTranslation } from "@/services/languageTranslate";
function BottomTabNavigation({ data,...props }) {
  const router = useCustomRouter()
  const {isLogin}=props
  const pathname = usePathname()
  // 25. 03 - QC Plan - Web - Pengecekan Ronda Muatparts - Tahap 2 - LB - 0756
  const {t}=useTranslation()
  function handleMessage() {
    // 25. 03 - QC Plan - Web - Pengecekan Ronda Muatparts - Tahap 2 - LB - 0585
    if (isLogin) {
      router.push(
        `${
          process.env.NEXT_PUBLIC_CHAT_URL
        }initiate?accessToken=${
          authZustand.getState().accessToken
        }&refreshToken=${
          authZustand.getState().refreshToken
        }&initiatorRole=buyer`
      )
    } else {
      router.push(`${process.env.NEXT_PUBLIC_INTERNAL_WEB}login`)
    }
  }
  return (
    <div className={style.main + " shadow-lg"}>
      <div className={style.container}>
        <span className="absolute left-0 -bottom-[2px] h-[66px]">
          <ImageComponent
            src={"/icons/bottom-tab-container.svg"}
            width={500}
            height={66}
            alt={"tba"}
          />
        </span>
        <span className={style.iconPesan}>
          <span
            onClick={handleMessage}
            className={`flex flex-col gap-2 justify-center items-center `}
          >
            <IconComponent
              width={24}
              height={24}
              src={"/icons/chat.svg"}
              classname={`${
                pathname.includes("/pesan") ? "text-primary-700" : ""
              }`}
            />
            <span
              className={`${
                pathname === "/pesan" ? "text-primary-700" : "text-neutral-600"
              } text-xs font-medium`}
            >
              {t('HomeSellerIndexInbox')}
            </span>
          </span>
        </span>
        <span className={style.iconHone}>
          {data.onClick ? (
            <div
              onClick={data.onClick}
              className={`flex flex-col gap-2 justify-center items-center ${
                data.title !== "Home" && "-ml-[25px]"
              }`}
            >
              <span className="w-6 h-6"></span>
              <span
                className={`${
                  pathname === "/" ? "text-primary-700" : "text-neutral-600"
                } text-xs font-medium`}
              >
                {data.title}
              </span>
            </div>
          ) : (
            <CustomLink
              href={data.link}
              className={`flex flex-col gap-2 justify-center items-center ${
                data.title !== "Home" && "-ml-[25px]"
              }`}
            >
              <span className="w-6 h-6"></span>
              <span
                className={`${
                  pathname === "/" ? "text-primary-700" : "text-neutral-600"
                } text-xs font-medium`}
              >
                {data.title}
              </span>
            </CustomLink>
          )}
        </span>
        <span className={style.iconProfile}>
          <CustomLink
            href={isLogin?
              process.env.NEXT_PUBLIC_INTERNAL_WEB +
              "accountmanagement/profileManagementCompany2"
              :process.env.NEXT_PUBLIC_INTERNAL_WEB+"login"
            }
            className={`flex flex-col gap-2 justify-center items-center `}
          >
            <IconComponent
              width={24}
              height={24}
              src={"/icons/user-outline.svg"}
              classname={`${
                pathname.includes("/profile")
                  ? style.activeProfile
                  : "text-neutral-600"
              }`}
            />
            <span
              className={`${
                pathname.includes("/profile")
                  ? "text-primary-700"
                  : "text-neutral-600"
              } text-xs font-medium`}
            >
              {t('DetailTransporterLabelProfil')}
            </span>
          </CustomLink>
        </span>
        <span className={style.iconMuat}>
          {data.onClick ? (
            <div onClick={data.onClick}>
              <ImageComponent
                src={"/icons/muatmuat-smile.svg"}
                width={75}
                height={75}
                alt="asd"
              />
            </div>
          ) : (
            <CustomLink href={"/"}>
              <ImageComponent
                src={"/icons/muatmuat-smile.svg"}
                width={75}
                height={75}
                alt="asd"
              />
            </CustomLink>
          )}
        </span>
      </div>
    </div>
  );
}

export default ProtectComponent(BottomTabNavigation);
